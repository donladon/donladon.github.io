# 数据库部分
------
## 第一章 数据库概论

--------------------------

### ***数据库的由来和发展***
> 数据管理技术的发展经历了人工管理、文件系统、数据库阶段和高级数据库阶段
#### 人工管理阶段(数据与程序不具有独立性)
- 数据不保存在计算机内，计算机主要用于计算
- 没有专用的软件对数据进行管理，数据与程序不具有独立性，存储结构改变时，应用程序必须改变
- 只有程序的概念，没有文件的概念
- 数据面向程序，即一组数据对应一个程序
#### 文件系统阶段(有了基本的设备独立性)
- 在这一阶段，计算机不仅用于科学计算，还用于信息管理。
- 数据以“文件”形式可长期保存在外部存储器的磁盘上。
- 数据的逻辑结构与物理结构有了区别，程序与数据之间具有“设备独立性”
- 文件组织已多样化
- 数据不再属于某个特定的程序，可以重复使用，数据面向应用
- 对数据的操作以记录为单位

**但还存在缺陷：**

1. 数据冗余
2. 数据不一致
3. 数据联系弱

于是数据库技术在20世纪60年代末诞生了。

#### 数据库阶段

- 采用数据模型表示复杂的数据结构
- 有较高的数据独立性
- 数据库系统为用户提供了方便的用户接口

-----

### *数据抽象的级别*

#### 关系模型

- 用二维表格表达实体集
- 用关键码导航数据
- 查询语言是非过程性语言

-----------------

### *三层模式和两级映像(非常抽象。。。)*

#### 三层模式体系结构

- 外模式是用户和数据库系统的接口，外模式是逻辑模式的逻辑子集
- 逻辑模式是数据库中全部数据的整体逻辑结构的描述
- 内模式是数据库在物理存储方面的描述

#### 两级映像

- 外模式/逻辑模式映像存在于外模式和逻辑模式之间，用于定义外模式和逻辑模式之间的对应性。
- 逻辑模式/内模式映像存在于逻辑模式和内模式之间，用于定义逻辑模式和内模式之间的对应性。

> 数据库的三层模式和两级映像结构称为”数据库的体系结构“

#### 数据独立性(对上级模式的独立)

> 应用程序和数据库的数据结构之间相互独立，不受影响，在修改数据结构时，尽可能不修改应用程序，则称系统达到了数据独立性目标。

- 物理数据独立性：对内模式的修改尽量不影响逻辑模式，只需对映像做修改
- 逻辑数据独立性：对逻辑模式的修改尽量不影响外模式和应用程序，只需对映像做修改

-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

>  DMBS的主要功能：数据库的定义功能DDL，数据库的操纵功能DML，数据库的保护功能(恢复，并发控制，完整性控制，安全性控制)，数据库的维护功能和数据字典

------
## 第二章 关系模型和关系运算理论

### 关系模型的基本概念

> 用二维表格表示实体集，用关键码表示实体之间联系的数据模型称为关系模型

### 关系模型的三类完整性规则

- 实体完整性规则
- 参照完整性规则
- 用户定义的完整性规则

------
## 第三章 关系数据库语言SQL

### 3.2 SQL的数据定义







------
## 第四章 关系数据库的规范化设计
> 第二范式2NF：每个非主属性都完全函数依赖于候选码
> - **不满足2NF的关系模式中必定存在非主属性对关键码的局部依赖**

> 第三范式3NF：每个非主属性都非传递函数依赖于候选码
> - 不满足3NF的关系模式中必定存在非主属性对关键码的传递依赖
> - 等价定义：**对于F中每个非平凡的FD X->Y，都有X是R的超键，或者Y的每个属性都是主属性，也即3NF**

> BCNF:每个属性都不传递依赖于R的候选键
> - 等价定义：**对于F的每个非平凡的FD X->Y 都有X是R的超键，也即BCNF**

> 1. **FD左边是否都是超键** BCNF
> 2. **左边都是超键或者右边都是主属性** 3NF
> 3. **任何候选码的真子集都不能推出非主属性** 2NF

![](https://cdn.jsdelivr.net/gh/donladon/img/img/@P1CR_I2YME1~QFUZ]H$15K.png)

### 1. 求最小函数依赖集
1. 分解规则，将右边化为单属性
2. 删除冗余的属性，假设删去第一个、第二个……会不会有影响
3. 看看左边是否有冗余的属性，左边单属性不用管

### 2.分解成3NF,无损分解且保持函数依赖
1. 先求出F的最小依赖集，然后将左部相同的FD合并起来
2. 在最小依赖集中，每个FD X->Y 去构成一个模式XY。
3. 在构成的模式集中，如果每个模式都不包含R的候选键，那么把候选键作为一个模式放入模式集中。

### 3.求候选键(类似极大线性无关组的理解)

> ![](https://cdn.jsdelivr.net/gh/donladon/img/img/202210030028526.png)

- **给定关系模式R(U,F),将R的所有属性分为L,R,LR和N四类**
- **令X=L∪N，求X的闭包，若X的闭包包含了R的所有属性，则X为R的唯一候选码**
- **选LR中属性，求闭包，继续这一过程**

------
## 第五章 数据库设计与ER模型

### 数据库设计的全过程

### ER模型到关系模型的转换



------
## 第七章 系统实现技术

### 事务的概念和ACID性质

### 恢复，并发控制，完整性约束，安全性保护方法

### 使用SQL创建用户和授权

------